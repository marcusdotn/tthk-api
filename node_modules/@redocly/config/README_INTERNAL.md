# Redocly config schema

This package contains the JSON schema for the Redocly configuration file.
It consists of two main parts: [the root config schema](./src/root-config-schema.ts) and [the default theme config schema](./src/default-theme-config-schema.ts).

Also, it contains some [shared constants](./src/constants.ts) and types.

## Architecture

High-level config resolution and validation process is described in the diagram below:

```mermaid
graph TD
  subgraph "portal"
    getMergedConfigSchema -->|JSON Schema| createConfigTypes --> |NodeType| lintConfig
    loadConfig -->|redocly.yaml content| lintConfig
  end

  subgraph "openapi-core"
    CLI[Redocly CLI specific config] -.->|NodeType| createConfigTypes
  end

  subgraph "redocly-config"
    T[Default theme config] --> R[Root config schema] -->|JSON Schema| getMergedConfigSchema
  end

  U[User defined theme configs] -->|JSON Schema| getMergedConfigSchema
```

We use JSON Schema to define the structure of the configuration file inside the monorepo and for user-defined theme configs.
On the other hand, `@redocly/openapi-core` uses its internal `NodeType` to gain better linting output.
They are getting merged inside the `createConfigTypes` function and then the actual config (resolved by `loadConfig`) gets linted by the `lintConfig` function.

## Usage

Please import types and constants from this package everywhere in the monorepo where you need to work with anything related to the Redocly config.
